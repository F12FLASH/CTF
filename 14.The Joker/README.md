# ğŸƒ The Joker - Ná»n táº£ng Thá»­ thÃ¡ch CTF Reverse Engineering

![Äá»™ khÃ³: Expert](https://img.shields.io/badge/Äá»™%20khÃ³-Expert%20â˜…â˜…â˜…â˜…-red)
![Loáº¡i: Reverse Engineering](https://img.shields.io/badge/Loáº¡i-Reverse%20Engineering-blue)
![Báº£o máº­t: Cao](https://img.shields.io/badge/Báº£o%20máº­t-Cao-green)


## ğŸ¯ Giá»›i thiá»‡u

**The Joker** lÃ  má»™t ná»n táº£ng há»c táº­p tÆ°Æ¡ng tÃ¡c dÃ nh cho cÃ¡c chuyÃªn gia an ninh máº¡ng vÃ  sinh viÃªn, táº­p trung vÃ o thá»­ thÃ¡ch reverse engineering cáº¥p Ä‘á»™ chuyÃªn gia. Thá»­ thÃ¡ch mÃ´ phá»ng má»™t binary tinh vi sá»­ dá»¥ng ká»¹ thuáº­t anti-debugging vÃ  self-modification Ä‘á»ƒ xÃ³a chÃ­nh nÃ³ khá»i bá»™ nhá»›.

### ğŸª CÃ¢u chuyá»‡n thá»­ thÃ¡ch

"The Joker" lÃ  má»™t binary nhÆ° má»™t "trÃ² Ä‘Ã¹a" - nÃ³ hiá»ƒn thá»‹ flag cho ngÆ°á»i dÃ¹ng nhÆ°ng ngay láº­p tá»©c sá»­ dá»¥ng ká»¹ thuáº­t ptrace anti-debugging vÃ  memory wiping Ä‘á»ƒ xÃ³a chÃ­nh nÃ³, táº¡o nÃªn cuá»™c cháº¡y Ä‘ua gay cáº¥n giá»¯a reverse engineer vÃ  cÃ¡c cÆ¡ cháº¿ phÃ²ng thá»§.

## âœ¨ Äáº·c Ä‘iá»ƒm ná»•i báº­t

### ğŸ“š Ná»™i dung giÃ¡o dá»¥c toÃ n diá»‡n
- **TÃ i liá»‡u chi tiáº¿t**: HÆ°á»›ng dáº«n Ä‘áº§y Ä‘á»§ vá» ká»¹ thuáº­t reverse engineering
- **4 phÆ°Æ¡ng phÃ¡p giáº£i quyáº¿t**: GDB Scripting, Memory Tracing, LD_PRELOAD, Binary Patching
- **Code vÃ­ dá»¥**: Syntax highlighting cho C, Python, Bash, GDB
- **Há»— trá»£ tiáº¿ng Viá»‡t**: Giao diá»‡n vÃ  tÃ i liá»‡u hoÃ n toÃ n báº±ng tiáº¿ng Viá»‡t

### ğŸ” Báº£o máº­t cao cáº¥p
- **MÃ£ hÃ³a flag**: Flag Ä‘Æ°á»£c mÃ£ hÃ³a vÃ  lÃ m rá»‘i nhiá»u lá»›p
- **Rate limiting**: Giá»›i háº¡n sá»‘ láº§n thá»­ flag Ä‘á»ƒ chá»‘ng brute force
- **Constant-time comparison**: Chá»‘ng timing attacks
- **Input sanitization**: Lá»c vÃ  lÃ m sáº¡ch input nguy hiá»ƒm
- **Security headers**: Báº£o vá»‡ chá»‘ng XSS, clickjacking, MIME sniffing

### ğŸ¨ Giao diá»‡n ngÆ°á»i dÃ¹ng
- **Theme tá»‘i chuyÃªn nghiá»‡p**: MÃ u matrix green Ä‘áº·c trÆ°ng cá»§a cybersecurity
- **Responsive design**: TÆ°Æ¡ng thÃ­ch má»i thiáº¿t bá»‹
- **Progress tracking**: Theo dÃµi tiáº¿n Ä‘á»™ há»c táº­p tá»± Ä‘á»™ng
- **Confetti animation**: Hiá»‡u á»©ng chÃºc má»«ng khi giáº£i Ä‘Ãºng
- **Sidebar navigation**: Äiá»u hÆ°á»›ng dá»… dÃ ng giá»¯a cÃ¡c pháº§n

## ğŸ›  CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **React 18** vá»›i TypeScript - UI framework hiá»‡n Ä‘áº¡i
- **Vite** - Build tool nhanh chÃ³ng
- **Tailwind CSS** - Utility-first CSS framework
- **Shadcn UI** - Component library vá»›i Radix primitives
- **TanStack Query** - State management vÃ  data fetching
- **Wouter** - Lightweight router
- **React Hook Form** + **Zod** - Form validation
- **React Syntax Highlighter** - Code highlighting
- **Canvas Confetti** - Celebration animations

### Backend
- **Node.js** vá»›i **Express** - Server framework
- **TypeScript** - Type safety
- **Drizzle ORM** - Type-safe database toolkit
- **Zod** - Runtime validation
- **Custom security middleware** - Rate limiting, sanitization

### Báº£o máº­t
- **Multi-layer flag encryption** - Base64 obfuscation
- **SHA-256 hashing** - Privacy protection
- **Constant-time comparison** - Timing attack prevention
- **Rate limiting** - Brute force protection
- **Input sanitization** - XSS protection
- **Security headers** - Multiple attack vector protection

## ğŸ’» YÃªu cáº§u há»‡ thá»‘ng

- **Node.js**: 20.x trá»Ÿ lÃªn
- **npm**: 10.x trá»Ÿ lÃªn
- **TrÃ¬nh duyá»‡t**: Chrome, Firefox, Safari, Edge (phiÃªn báº£n má»›i nháº¥t)
- **RAM**: Tá»‘i thiá»ƒu 2GB
- **Dung lÆ°á»£ng á»• cá»©ng**: 500MB

## ğŸ“¦ CÃ i Ä‘áº·t

### BÆ°á»›c 1: Clone repository

```bash
git clone https://github.com/F12FLASH/CTF.git
cd CTF/14.The Joker
```

### BÆ°á»›c 2: Cáº¥u hÃ¬nh environment variables

```bash
# Copy file .env.example thÃ nh .env
cp .env.example .env

# Chá»‰nh sá»­a .env vÃ  set flag cá»§a báº¡n
# CTF_FLAG=YOUR_ACTUAL_FLAG_HERE
```

**LÆ¯U Ã QUAN TRá»ŒNG**: File `.env` chá»©a flag thá»±c vÃ  sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng ignore bá»Ÿi git. KhÃ´ng bao giá» commit file nÃ y!

### BÆ°á»›c 3: CÃ i Ä‘áº·t dependencies

```bash
npm install
```

### BÆ°á»›c 4: Khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng

```bash
npm run dev
```

á»¨ng dá»¥ng sáº½ cháº¡y táº¡i `http://localhost:5000`

## ğŸš€ Sá»­ dá»¥ng

### Cháº¿ Ä‘á»™ Development

```bash
npm run dev
```

Khá»Ÿi Ä‘á»™ng cáº£ backend Express server vÃ  Vite dev server vá»›i hot module replacement (HMR).

### Kiá»ƒm tra TypeScript

```bash
npm run check
```

Cháº¡y TypeScript compiler Ä‘á»ƒ kiá»ƒm tra lá»—i type.

### Build cho Production

```bash
npm run build
```

Build frontend vá»›i Vite vÃ  backend vá»›i esbuild.

### Cháº¡y Production

```bash
npm run start
```

Khá»Ÿi Ä‘á»™ng server production (sau khi Ä‘Ã£ build).

### Database Migration

```bash
npm run db:push
```

Äáº©y schema database lÃªn Neon (náº¿u sá»­ dá»¥ng database).

## ğŸ”’ TÃ­nh nÄƒng báº£o máº­t

### 1. Flag Protection (Báº£o vá»‡ Flag)

Flag Ä‘Æ°á»£c báº£o vá»‡ báº±ng phÆ°Æ¡ng phÃ¡p hash-based validation:

- **Zero-knowledge validation**: Server chá»‰ lÆ°u hash SHA-256 cá»§a flag, khÃ´ng bao giá» lÆ°u plaintext
- **Environment variable**: Flag thá»±c Ä‘Æ°á»£c lÆ°u trong biáº¿n mÃ´i trÆ°á»ng `CTF_FLAG` (khÃ´ng cÃ³ trong code)
- **Constant-time comparison**: Sá»­ dá»¥ng `timingSafeEqual` Ä‘á»ƒ ngÄƒn cháº·n timing attacks
- **Hash-only storage**: Submissions chá»‰ lÆ°u hash má»™t pháº§n, khÃ´ng lÆ°u flag gá»‘c

```typescript
// Flag Ä‘Æ°á»£c validate qua hash comparison
// KhÃ´ng thá»ƒ trÃ­ch xuáº¥t flag tá»« source code
// Xem server/flag-encryption.ts Ä‘á»ƒ biáº¿t chi tiáº¿t
```

Äá»ƒ cÃ i Ä‘áº·t flag tÃ¹y chá»‰nh trong production:
```bash
export CTF_FLAG="YOUR_CUSTOM_FLAG_HERE"
```

### 2. Rate Limiting

Há»‡ thá»‘ng rate limiting tinh vi:

- **Flag submission**: 5 láº§n thá»­/phÃºt, block 10 phÃºt náº¿u vÆ°á»£t quÃ¡
- **General API**: 100 requests/phÃºt, block 1 phÃºt náº¿u vÆ°á»£t quÃ¡
- **IP-based tracking**: Theo dÃµi theo Ä‘á»‹a chá»‰ IP
- **Automatic cleanup**: Tá»± Ä‘á»™ng xÃ³a entries cÅ©

### 3. Input Sanitization

Má»i input Ä‘á»u Ä‘Æ°á»£c lÃ m sáº¡ch:

- XSS pattern removal
- Script tag filtering
- Event handler removal
- Trim whitespace

### 4. Security Headers

Headers báº£o vá»‡ toÃ n diá»‡n:

- `X-Frame-Options: DENY` - Chá»‘ng clickjacking
- `X-Content-Type-Options: nosniff` - Chá»‘ng MIME sniffing
- `X-XSS-Protection: 1; mode=block` - XSS protection
- `Referrer-Policy: strict-origin-when-cross-origin`
- `Content-Security-Policy` - Kiá»ƒm soÃ¡t resource loading

### 5. Request Size Limiting

- Max request size: 100KB
- NgÄƒn cháº·n payload quÃ¡ lá»›n
- Báº£o vá»‡ server khá»i memory exhaustion

## ğŸ‘¨â€ğŸ’» HÆ°á»›ng dáº«n phÃ¡t triá»ƒn

### ThÃªm Component má»›i

```bash
# Táº¡o component trong client/src/components/
touch client/src/components/new-component.tsx
```

### ThÃªm API Endpoint má»›i

```typescript
// Trong server/routes.ts
app.get("/api/new-endpoint", async (req, res) => {
  // Logic cá»§a báº¡n
  res.json({ data: "..." });
});
```

### ThÃªm Middleware báº£o máº­t

```typescript
// Trong server/security-middleware.ts
export function customSecurityMiddleware(req, res, next) {
  // Logic báº£o máº­t
  next();
}

// Sá»­ dá»¥ng trong server/index.ts
app.use(customSecurityMiddleware);
```

### Code Style

- **TypeScript strict mode**: Enabled
- **ESLint**: TuÃ¢n theo quy táº¯c máº·c Ä‘á»‹nh
- **Prettier**: Tá»± Ä‘á»™ng format
- **Naming convention**:
  - Components: PascalCase (`FlagSubmission`)
  - Files: kebab-case (`flag-submission.tsx`)
  - Functions: camelCase (`submitFlag`)
  - Constants: UPPER_SNAKE_CASE (`CORRECT_FLAG`)

## ğŸŒ Triá»ƒn khai

### Manual Deployment

```bash
# Build application
npm run build

# Set environment variable
export NODE_ENV=production
export PORT=5000

# Start server
npm start
```

### Environment Variables

- `NODE_ENV`: `development` hoáº·c `production`
- `PORT`: Port Ä‘á»ƒ cháº¡y server (default: 5000)
- `CTF_FLAG`: Flag chÃ­nh xÃ¡c cho thá»­ thÃ¡ch (báº¯t buá»™c cho production)
  - Trong development: Máº·c Ä‘á»‹nh lÃ  demo flag
  - Trong production: Pháº£i Ä‘Æ°á»£c set Ä‘á»ƒ báº£o máº­t
- `DATABASE_URL`: PostgreSQL connection string (náº¿u dÃ¹ng database)

**LÆ°u Ã½ báº£o máº­t**: KhÃ´ng bao giá» commit `CTF_FLAG` vÃ o Git. Sá»­ dá»¥ng file `.env` hoáº·c secrets manager.

## ğŸ“ Giáº£i phÃ¡p thá»­ thÃ¡ch

Platform cung cáº¥p 4 phÆ°Æ¡ng phÃ¡p giáº£i quyáº¿t thá»­ thÃ¡ch "The Joker":

### 1. GDB Scripting (â˜…â˜…â˜…â˜…)
Sá»­ dá»¥ng GDB script tá»± Ä‘á»™ng Ä‘á»ƒ dump memory trÆ°á»›c khi binary tá»± xÃ³a.

### 2. Memory Tracing (â˜…â˜…â˜…â˜…)
Viáº¿t custom tracer program vá»›i ptrace Ä‘á»ƒ monitor process.

### 3. LD_PRELOAD Hook (â˜…â˜…â˜…)
Hook ptrace function Ä‘á»ƒ bypass anti-debugging check.

### 4. Binary Patching
Sá»­a Ä‘á»•i binary trá»±c tiáº¿p Ä‘á»ƒ disable protection mechanisms.

### Ká»¹ nÄƒng cáº§n thiáº¿t:
- ThÃ nh tháº¡o GDB vÃ  debugging
- Hiá»ƒu biáº¿t sÃ¢u vá» process memory layout
- Kinh nghiá»‡m vá»›i anti-debugging bypass
- Ká»¹ nÄƒng binary analysis vÃ  manipulation
- Kiáº¿n thá»©c vá» system calls vÃ  process management

## ğŸ¤ ÄÃ³ng gÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! Äá»ƒ Ä‘Ã³ng gÃ³p:

1. Fork repository
2. Táº¡o branch má»›i (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

### Quy táº¯c Ä‘Ã³ng gÃ³p:

- Viáº¿t code rÃµ rÃ ng vÃ  cÃ³ comment
- TuÃ¢n theo code style hiá»‡n táº¡i
- ThÃªm tests náº¿u cÃ³ thá»ƒ
- Update documentation khi cáº§n thiáº¿t
- Äáº£m báº£o code pass TypeScript checks

## ğŸ“„ Giáº¥y phÃ©p

MIT License - Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

## ğŸ™ Lá»i cáº£m Æ¡n

- **Shadcn UI** - Component library tuyá»‡t vá»i
- **Radix UI** - Accessible primitives
- **Cá»™ng Ä‘á»“ng CTF Viá»‡t Nam** - Inspiration vÃ  support

## ğŸ“ LiÃªn há»‡

Náº¿u báº¡n cÃ³ cÃ¢u há»i hoáº·c Ä‘á» xuáº¥t, vui lÃ²ng:
- Má»Ÿ issue trÃªn GitHub
- Email: loideveloper.37@gmail.com

---

**ÄÆ°á»£c xÃ¢y dá»±ng vá»›i â¤ï¸ cho cá»™ng Ä‘á»“ng Cybersecurity Viá»‡t Nam**

ğŸ¯ Happy Hacking! ğŸ”
